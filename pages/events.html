<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PLP | Events</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css">
    <meta name="description" content="work in progress">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/vendor/event.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=LXGW+WenKai+TC&display=swap" rel="stylesheet">
    <link rel="icon" href="../assets/images/logo.png">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/components/navbar.js"></script> <!--Navbar-->
</head>
<body>
    <main>

        <!-- -------------------------------------- -->
        <!-- https://codepen.io/mrReiha/pen/RwPgLeM -->
        <!-- -------------------------------------- -->

        <div class="wrapper" id ="eventsMainPart">

            <h2><strong>All Events<span>( 1 )</span></strong></h2>
            <div class="cards" id="eventsCards"></div>
        
            <h2><strong>What's new?</strong></h2>
            <div class="news" id="eventsNews">
    
        
            </div>
        
        </div>
    </main>

    <script>
        $('eventsCards').ready(function(){
            getLanguage();
            var y = language.events.cards.count;
            for (var x = 1; x <= y; x++) {
                var eventsHtml = `
                    <a class="card" id="eventsC${x}Link" target="_blank">
                        <img id="eventsC${x}Image"/>
                        <figcaption class="glassEffect" id="eventsC${x}Title" style="color: black"></figcaption>
                    </a>
                `;
                $('.cards').append(eventsHtml);
            }
        });

        

        $('eventsNews').ready(function(){
            getLanguage();
            var y = language.events.news.count;
            for (var x = 1; x <= y; x++) {
                var eventsHtml = `
                    <figure class="article">
                        <img id="eventsN${x}Image" src="" />
                        <figcaption>
                            <h3 id="eventsN${x}Title"></h3>
                            <p id="eventsN${x}Text">
                            </p>
                        </figcaption>
                    </figure>
                `;
                $('.news').append(eventsHtml);
            }
        });

        $(document).ready(function(){
            getLinks();
            getLanguage(); // Ensure language is loaded on document ready

            for (var i = 1; i <= language.events.cards.count; i++) {
                $('#eventsC' + i + 'Title').text(language.events.cards['c' + i].title);
                $('#eventsC' + i + 'Link').attr('href', language.events.cards['c' + i].link);
                $('#eventsC' + i + 'Image').attr('src', language.events.cards['c' + i].image);
            }

            for (var i = 1; i <= language.events.news.count; i++) {
                $('#eventsN' + i + 'Title').text(language.events.news['n' + i].title);
                $('#eventsN' + i + 'Text').text(language.events.news['n' + i].text);
                $('#eventsN' + i + 'Image').attr('src', language.events.news['n' + i].image);
            }
        });

    </script>

</body>
</html>